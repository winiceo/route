{"version":3,"sources":["../../../app/model/user1.js"],"names":["utility","require","module","exports","mongoose","app","Schema","UserSchema","pass","type","String","email","level","Number","default","create_at","Date","now","update_at","index","unique","pre","next","model"],"mappings":";;AACA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;;AAEAC,OAAOC,OAAP,GAAiB,eAAO;AACpB,QAAMC,WAAWC,IAAID,QAArB;AACA,QAAME,SAASF,SAASE,MAAxB;;AAEA,QAAMC,aAAa,IAAID,MAAJ,CAAW;;AAE1BE,cAAM,EAAEC,MAAMC,MAAR,EAFoB;AAG1BC,eAAO,EAAEF,MAAMC,MAAR,EAHmB;AAI1BE,eAAO,EAAEH,MAAMI,MAAR,EAAgBC,SAAS,CAAzB,EAJmB;AAK1BC,mBAAW,EAAEN,MAAMO,IAAR,EAAcF,SAASE,KAAKC,GAA5B,EALe;AAM1BC,mBAAW,EAAET,MAAMO,IAAR,EAAcF,SAASE,KAAKC,GAA5B;;AANe,KAAX,CAAnB;;AAWAV,eAAWY,KAAX,CAAiB,EAAER,OAAO,CAAT,EAAjB,EAA+B,EAAES,QAAQ,IAAV,EAA/B;;AAGAb,eAAWc,GAAX,CAAe,MAAf,EAAuB,UAASC,IAAT,EAAe;AAClC,YAAML,MAAM,IAAID,IAAJ,EAAZ;AACA,aAAKE,SAAL,GAAiBD,GAAjB;AACAK;AACH,KAJD;;AAMA,WAAOlB,SAASmB,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAP;AACH,CAzBD","file":"user1.js","sourcesContent":["\nconst utility = require('utility');\n\nmodule.exports = app => {\n    const mongoose = app.mongoose;\n    const Schema = mongoose.Schema;\n\n    const UserSchema = new Schema({\n\n        pass: { type: String },\n        email: { type: String },\n        level: { type: Number, default: 0 },\n        create_at: { type: Date, default: Date.now },\n        update_at: { type: Date, default: Date.now }\n\n    });\n\n\n    UserSchema.index({ email: 1 }, { unique: true });\n\n\n    UserSchema.pre('save', function(next) {\n        const now = new Date();\n        this.update_at = now;\n        next();\n    });\n\n    return mongoose.model('User', UserSchema);\n};\n"]}