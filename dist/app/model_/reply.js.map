{"version":3,"sources":["../../../app/model_/reply.js"],"names":["module","exports","mongoose","app","Schema","ObjectId","ReplySchema","content","type","String","topic_id","author_id","reply_id","create_at","Date","default","now","update_at","content_is_html","Boolean","ups","Types","deleted","usePushEach","index","model"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB,eAAO;AACtB,MAAMC,WAAWC,IAAID,QAArB;AACA,MAAME,SAASF,SAASE,MAAxB;AACA,MAAMC,WAAWD,OAAOC,QAAxB;;AAEA,MAAMC,cAAc,IAAIF,MAAJ,CAAW;AAC7BG,aAAS,EAAEC,MAAMC,MAAR,EADoB;AAE7BC,cAAU,EAAEF,MAAMH,QAAR,EAFmB;AAG7BM,eAAW,EAAEH,MAAMH,QAAR,EAHkB;AAI7BO,cAAU,EAAEJ,MAAMH,QAAR,EAJmB;AAK7BQ,eAAW,EAAEL,MAAMM,IAAR,EAAcC,SAASD,KAAKE,GAA5B,EALkB;AAM7BC,eAAW,EAAET,MAAMM,IAAR,EAAcC,SAASD,KAAKE,GAA5B,EANkB;AAO7BE,qBAAiB,EAAEV,MAAMW,OAAR,EAPY;AAQ7BC,SAAK,CAAEhB,OAAOiB,KAAP,CAAahB,QAAf,CARwB;AAS7BiB,aAAS,EAAEd,MAAMW,OAAR,EAAiBJ,SAAS,KAA1B;AAToB,GAAX,EAUjB;AACDQ,iBAAa;AADZ,GAViB,CAApB;;AAcAjB,cAAYkB,KAAZ,CAAkB,EAAEd,UAAU,CAAZ,EAAlB;AACAJ,cAAYkB,KAAZ,CAAkB,EAAEb,WAAW,CAAb,EAAgBE,WAAW,CAAC,CAA5B,EAAlB;;AAEA,SAAOX,SAASuB,KAAT,CAAe,OAAf,EAAwBnB,WAAxB,CAAP;AACD,CAvBD","file":"reply.js","sourcesContent":["'use strict';\n\nmodule.exports = app => {\n  const mongoose = app.mongoose;\n  const Schema = mongoose.Schema;\n  const ObjectId = Schema.ObjectId;\n\n  const ReplySchema = new Schema({\n    content: { type: String },\n    topic_id: { type: ObjectId },\n    author_id: { type: ObjectId },\n    reply_id: { type: ObjectId },\n    create_at: { type: Date, default: Date.now },\n    update_at: { type: Date, default: Date.now },\n    content_is_html: { type: Boolean },\n    ups: [ Schema.Types.ObjectId ],\n    deleted: { type: Boolean, default: false },\n  }, {\n    usePushEach: true,\n  });\n\n  ReplySchema.index({ topic_id: 1 });\n  ReplySchema.index({ author_id: 1, create_at: -1 });\n\n  return mongoose.model('Reply', ReplySchema);\n};\n"]}