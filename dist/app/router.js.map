{"version":3,"sources":["../../app/router.js"],"names":["module","exports","router","app","controller","middleware","account","balance","wallet","miner","email","test","home","apipre","tokenCheck","post","login","register","forget","updatePass","total","assets","withdraw","withdrawHistory","index","detail","sendCaptcha"],"mappings":";;AACA;;;AAGAA,OAAOC,OAAP,GAAiB,eAAO;AAAA,MACZC,MADY,GACuBC,GADvB,CACZD,MADY;AAAA,MACJE,UADI,GACuBD,GADvB,CACJC,UADI;AAAA,MACQC,UADR,GACuBF,GADvB,CACQE,UADR;AAAA,MAIhBC,OAJgB,GAKhBF,UALgB,CAIhBE,OAJgB;AAAA,MAIPC,OAJO,GAKhBH,UALgB,CAIPG,OAJO;AAAA,MAIEC,MAJF,GAKhBJ,UALgB,CAIEI,MAJF;AAAA,MAIUC,KAJV,GAKhBL,UALgB,CAIUK,KAJV;AAAA,MAIiBC,KAJjB,GAKhBN,UALgB,CAIiBM,KAJjB;AAAA,MAIwBC,IAJxB,GAKhBP,UALgB,CAIwBO,IAJxB;AAAA,MAI8BC,IAJ9B,GAKhBR,UALgB,CAI8BQ,IAJ9B;;;AAOpB,MAAMC,SAAS,MAAf;;AAEA,MAAMC,aAAaT,WAAWS,UAAX,EAAnB;;AAIA;;;AAGAZ,SAAOa,IAAP,CAAYF,SAAS,gBAArB,EAAuCP,QAAQU,KAA/C,EAhBoB,CAgBkC;AACtDd,SAAOa,IAAP,CAAYF,SAAS,mBAArB,EAA0CP,QAAQW,QAAlD,EAjBoB,CAiBwC;AAC5Df,SAAOa,IAAP,CAAYF,SAAS,iBAArB,EAAwCP,QAAQY,MAAhD,EAlBoB,CAkBoC;AACxDhB,SAAOa,IAAP,CAAYF,SAAS,yBAArB,EAAgDC,UAAhD,EAA4DR,QAAQa,UAApE,EAnBoB,CAmB4D;AAChFjB,SAAOa,IAAP,CAAYF,SAAS,mBAArB,EAA0CC,UAA1C,EAAsDP,QAAQa,KAA9D,EApBoB,CAoBiD;;;AAGrE;;;AAGAlB,SAAOa,IAAP,CAAYF,SAAS,gBAArB,EAAuCC,UAAvC,EAAmDN,OAAOa,MAA1D;AACAnB,SAAOa,IAAP,CAAYF,SAAS,kBAArB,EAAyCC,UAAzC,EAAqDN,OAAOc,QAA5D;AACApB,SAAOa,IAAP,CAAYF,SAAS,0BAArB,EAAiDC,UAAjD,EAA6DN,OAAOe,eAApE;;AAGA;;;AAGArB,SAAOa,IAAP,CAAYF,SAAS,QAArB,EAA+BC,UAA/B,EAA2CL,MAAMe,KAAjD;AACAtB,SAAOa,IAAP,CAAYF,SAAS,kBAArB,EAAyCC,UAAzC,EAAqDL,MAAMgB,MAA3D;;AAEA;;;AAGAvB,SAAOa,IAAP,CAAYF,SAAS,gBAArB,EAAuCH,MAAMgB,WAA7C;;AAEA;;;AAGAxB,SAAOa,IAAP,CAAY,OAAZ,EAAqBD,UAArB,EAAiCH,KAAKA,IAAtC;AAEH,CA/CD","file":"router.js","sourcesContent":["\n/**\n * @param {Egg.Application} app - egg application\n */\nmodule.exports = app => {\n    const { router, controller, middleware } = app;\n\n    const {\n        account, balance, wallet, miner, email, test, home\n    } = controller;\n\n    const apipre = '/api';\n\n    const tokenCheck = middleware.tokenCheck();\n\n\n\n    /**\n     * 用户相关\n     */\n    router.post(apipre + '/account/login', account.login);// 用户登录\n    router.post(apipre + '/account/register', account.register);// 用户注册\n    router.post(apipre + '/account/forget', account.forget);// 修改密码\n    router.post(apipre + '/account/changePassword', tokenCheck, account.updatePass);// 修改密码\n    router.post(apipre + '/account/balances', tokenCheck, balance.total);// 修改密码\n\n\n    /**\n     * 钱包相关\n     */\n    router.post(apipre + '/wallet/assets', tokenCheck, wallet.assets);\n    router.post(apipre + '/wallet/withdraw', tokenCheck, wallet.withdraw);\n    router.post(apipre + '/wallet/withdraw/history', tokenCheck, wallet.withdrawHistory);\n\n\n    /**\n     * miner相关\n     */\n    router.post(apipre + '/miner', tokenCheck, miner.index);\n    router.post(apipre + '/miner/:miner_id', tokenCheck, miner.detail);\n\n    /**\n     * 邮箱相关\n     */\n    router.post(apipre + '/email/captcha', email.sendCaptcha);\n\n    /**\n     * 测试相关\n     */\n    router.post('/test', tokenCheck, test.test);\n\n};\n"]}