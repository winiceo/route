{"version":3,"sources":["../../app/router.js"],"names":["module","exports","router","app","controller","middleware","account","balance","wallet","miner","email","test","home","apipre","tokenCheck","redirect","get","docs","post","login","register","forget","updatePass","total","assets","withdraw","withdrawHistory","index","detail","sendCaptcha"],"mappings":";;AACA;;;AAGAA,OAAOC,OAAP,GAAiB,eAAO;AAAA,MACZC,MADY,GACuBC,GADvB,CACZD,MADY;AAAA,MACJE,UADI,GACuBD,GADvB,CACJC,UADI;AAAA,MACQC,UADR,GACuBF,GADvB,CACQE,UADR;AAAA,MAIhBC,OAJgB,GAKhBF,UALgB,CAIhBE,OAJgB;AAAA,MAIPC,OAJO,GAKhBH,UALgB,CAIPG,OAJO;AAAA,MAIEC,MAJF,GAKhBJ,UALgB,CAIEI,MAJF;AAAA,MAIUC,KAJV,GAKhBL,UALgB,CAIUK,KAJV;AAAA,MAIiBC,KAJjB,GAKhBN,UALgB,CAIiBM,KAJjB;AAAA,MAIwBC,IAJxB,GAKhBP,UALgB,CAIwBO,IAJxB;AAAA,MAI8BC,IAJ9B,GAKhBR,UALgB,CAI8BQ,IAJ9B;;;AAOpB,MAAMC,SAAS,MAAf;;AAEA,MAAMC,aAAaT,WAAWS,UAAX,EAAnB;;AAEAZ,SAAOa,QAAP,CAAgB,GAAhB,EAAqB,OAArB,EAA8B,GAA9B;;AAEAb,SAAOc,GAAP,CAAW,OAAX,EAAoBJ,KAAKK,IAAzB,EAboB,CAaW;;;AAG/B;;;AAGAf,SAAOgB,IAAP,CAAYL,SAAS,gBAArB,EAAuCP,QAAQa,KAA/C,EAnBoB,CAmBkC;AACtDjB,SAAOgB,IAAP,CAAYL,SAAS,mBAArB,EAA0CP,QAAQc,QAAlD,EApBoB,CAoBwC;AAC5DlB,SAAOgB,IAAP,CAAYL,SAAS,iBAArB,EAAwCP,QAAQe,MAAhD,EArBoB,CAqBoC;AACxDnB,SAAOgB,IAAP,CAAYL,SAAS,yBAArB,EAAgDC,UAAhD,EAA4DR,QAAQgB,UAApE,EAtBoB,CAsB4D;AAChFpB,SAAOgB,IAAP,CAAYL,SAAS,mBAArB,EAA0CC,UAA1C,EAAsDP,QAAQgB,KAA9D,EAvBoB,CAuBiD;;;AAGrE;;;AAGArB,SAAOgB,IAAP,CAAYL,SAAS,gBAArB,EAAuCC,UAAvC,EAAmDN,OAAOgB,MAA1D;AACAtB,SAAOgB,IAAP,CAAYL,SAAS,kBAArB,EAAyCC,UAAzC,EAAqDN,OAAOiB,QAA5D;AACAvB,SAAOgB,IAAP,CAAYL,SAAS,0BAArB,EAAiDC,UAAjD,EAA6DN,OAAOkB,eAApE;;AAGA;;;AAGAxB,SAAOgB,IAAP,CAAYL,SAAS,QAArB,EAA+BC,UAA/B,EAA2CL,MAAMkB,KAAjD;AACAzB,SAAOgB,IAAP,CAAYL,SAAS,kBAArB,EAAyCC,UAAzC,EAAqDL,MAAMmB,MAA3D;;AAEA;;;AAGA1B,SAAOgB,IAAP,CAAYL,SAAS,gBAArB,EAAuCH,MAAMmB,WAA7C;;AAEA;;;AAGA3B,SAAOgB,IAAP,CAAY,OAAZ,EAAqBJ,UAArB,EAAiCH,KAAKA,IAAtC;AAEH,CAlDD","file":"router.js","sourcesContent":["\n/**\n * @param {Egg.Application} app - egg application\n */\nmodule.exports = app => {\n    const { router, controller, middleware } = app;\n\n    const {\n        account, balance, wallet, miner, email, test, home\n    } = controller;\n\n    const apipre = '/api';\n\n    const tokenCheck = middleware.tokenCheck();\n\n    router.redirect('/', '/docs', 302);\n\n    router.get('/docs', home.docs);// 用户登录\n\n\n    /**\n     * 用户相关\n     */\n    router.post(apipre + '/account/login', account.login);// 用户登录\n    router.post(apipre + '/account/register', account.register);// 用户注册\n    router.post(apipre + '/account/forget', account.forget);// 修改密码\n    router.post(apipre + '/account/changePassword', tokenCheck, account.updatePass);// 修改密码\n    router.post(apipre + '/account/balances', tokenCheck, balance.total);// 修改密码\n\n\n    /**\n     * 钱包相关\n     */\n    router.post(apipre + '/wallet/assets', tokenCheck, wallet.assets);\n    router.post(apipre + '/wallet/withdraw', tokenCheck, wallet.withdraw);\n    router.post(apipre + '/wallet/withdraw/history', tokenCheck, wallet.withdrawHistory);\n\n\n    /**\n     * miner相关\n     */\n    router.post(apipre + '/miner', tokenCheck, miner.index);\n    router.post(apipre + '/miner/:miner_id', tokenCheck, miner.detail);\n\n    /**\n     * 邮箱相关\n     */\n    router.post(apipre + '/email/captcha', email.sendCaptcha);\n\n    /**\n     * 测试相关\n     */\n    router.post('/test', tokenCheck, test.test);\n\n};\n"]}