{"version":3,"sources":["../../app/router.js"],"names":["module","exports","router","app","controller","middleware","account","balance","wallet","miner","email","test","home","tokenCheck","redirect","get","docs","post","login","register","forget","updatePass","total","assets","withdraw","withdrawHistory","index","detail","sendCaptcha"],"mappings":";;AACA;;;AAGAA,OAAOC,OAAP,GAAiB,eAAO;AAAA,MACZC,MADY,GACuBC,GADvB,CACZD,MADY;AAAA,MACJE,UADI,GACuBD,GADvB,CACJC,UADI;AAAA,MACQC,UADR,GACuBF,GADvB,CACQE,UADR;AAAA,MAIhBC,OAJgB,GAKhBF,UALgB,CAIhBE,OAJgB;AAAA,MAIPC,OAJO,GAKhBH,UALgB,CAIPG,OAJO;AAAA,MAIEC,MAJF,GAKhBJ,UALgB,CAIEI,MAJF;AAAA,MAIUC,KAJV,GAKhBL,UALgB,CAIUK,KAJV;AAAA,MAIiBC,KAJjB,GAKhBN,UALgB,CAIiBM,KAJjB;AAAA,MAIwBC,IAJxB,GAKhBP,UALgB,CAIwBO,IAJxB;AAAA,MAI6BC,IAJ7B,GAKhBR,UALgB,CAI6BQ,IAJ7B;;;AAOpB,MAAMC,aAAaR,WAAWQ,UAAX,EAAnB;;AAEAX,SAAOY,QAAP,CAAgB,GAAhB,EAAqB,OAArB,EAA8B,GAA9B;;AAEAZ,SAAOa,GAAP,CAAW,OAAX,EAAoBH,KAAKI,IAAzB,EAXoB,CAWW;;;AAG/B;;;AAGAd,SAAOe,IAAP,CAAY,gBAAZ,EAA8BX,QAAQY,KAAtC,EAjBoB,CAiByB;AAC7ChB,SAAOe,IAAP,CAAY,mBAAZ,EAAiCX,QAAQa,QAAzC,EAlBoB,CAkB+B;AACnDjB,SAAOe,IAAP,CAAY,iBAAZ,EAA+BX,QAAQc,MAAvC,EAnBoB,CAmB2B;AAC/ClB,SAAOe,IAAP,CAAY,yBAAZ,EAAuCJ,UAAvC,EAAmDP,QAAQe,UAA3D,EApBoB,CAoBmD;AACvEnB,SAAOe,IAAP,CAAY,mBAAZ,EAAiCJ,UAAjC,EAA6CN,QAAQe,KAArD,EArBoB,CAqBwC;;;AAG5D;;;AAGApB,SAAOe,IAAP,CAAY,gBAAZ,EAA8BJ,UAA9B,EAA0CL,OAAOe,MAAjD;AACArB,SAAOe,IAAP,CAAY,kBAAZ,EAAgCJ,UAAhC,EAA4CL,OAAOgB,QAAnD;AACAtB,SAAOe,IAAP,CAAY,0BAAZ,EAAwCJ,UAAxC,EAAoDL,OAAOiB,eAA3D;;AAGA;;;AAGAvB,SAAOe,IAAP,CAAY,QAAZ,EAAsBJ,UAAtB,EAAkCJ,MAAMiB,KAAxC;AACAxB,SAAOe,IAAP,CAAY,kBAAZ,EAAgCJ,UAAhC,EAA4CJ,MAAMkB,MAAlD;;AAEA;;;AAGAzB,SAAOe,IAAP,CAAY,gBAAZ,EAA8BP,MAAMkB,WAApC;;AAEA;;;AAGA1B,SAAOe,IAAP,CAAY,OAAZ,EAAqBJ,UAArB,EAAiCF,KAAKA,IAAtC;AAEH,CAhDD","file":"router.js","sourcesContent":["\n/**\n * @param {Egg.Application} app - egg application\n */\nmodule.exports = app => {\n    const { router, controller, middleware } = app;\n\n    const {\n        account, balance, wallet, miner, email, test,home\n    } = controller;\n\n    const tokenCheck = middleware.tokenCheck();\n\n    router.redirect('/', '/docs', 302);\n\n    router.get('/docs', home.docs);// 用户登录\n\n\n    /**\n     * 用户相关\n     */\n    router.post('/account/login', account.login);// 用户登录\n    router.post('/account/register', account.register);// 用户注册\n    router.post('/account/forget', account.forget);// 修改密码\n    router.post('/account/changePassword', tokenCheck, account.updatePass);// 修改密码\n    router.post('/account/balances', tokenCheck, balance.total);// 修改密码\n\n\n    /**\n     * 钱包相关\n     */\n    router.post('/wallet/assets', tokenCheck, wallet.assets);\n    router.post('/wallet/withdraw', tokenCheck, wallet.withdraw);\n    router.post('/wallet/withdraw/history', tokenCheck, wallet.withdrawHistory);\n\n\n    /**\n     * miner相关\n     */\n    router.post('/miner', tokenCheck, miner.index);\n    router.post('/miner/:miner_id', tokenCheck, miner.detail);\n\n    /**\n     * 邮箱相关\n     */\n    router.post('/email/captcha', email.sendCaptcha);\n\n    /**\n     * 测试相关\n     */\n    router.post('/test', tokenCheck, test.test);\n\n};\n"]}