{"version":3,"sources":["../../../app/service/account.js"],"names":["Service","require","AccountService","email","app","mysql","get","ret","password","insert","data","console","log","update","where","id","module","exports"],"mappings":";;;;;;;;;;;;AACA,IAAMA,UAAUC,QAAQ,KAAR,EAAeD,OAA/B;;IAEME,c;;;;;;;;;;;;;AAGF;;;;;;gGAKoBC,K;;;;;;;uCACE,KAAKC,GAAL,CAASC,KAAT,CAAeC,GAAf,CAAmB,OAAnB,EAA4B,EAAEH,OAAOA,KAAT,EAA5B,C;;;AAAZI,mC;iEACCA,G;;;;;;;;;;;;;;;;;;;kGAGMJ,K,EAAOK,Q;;;;;;;uCAGF,KAAKJ,GAAL,CAASC,KAAT,CAAeI,MAAf,CAAsB,OAAtB,EACd,EAAEN,OAAOA,KAAT,EAAgBK,UAAUA,QAA1B,EADc,C;;;AAAZD,mC;kEAKCA,G;;;;;;;;;;;;;;;;;;;kGAGMG,I;;;;;;;AAEbC,wCAAQC,GAAR,CAAYF,IAAZ;;;uCAEkB,KAAKN,GAAL,CAASC,KAAT,CAAeQ,MAAf,CAAsB,OAAtB,EAA+BH,IAA/B,EAAqC,EAAEI,OAAO,EAAEC,IAAIL,KAAKK,EAAX,EAAT,EAArC,C;;;AAAZR,mC;kEAGCA,G;;;;;;;;;;;;;;;;;;;EA/BcP,O;;AAqC7BgB,OAAOC,OAAP,GAAiBf,cAAjB","file":"account.js","sourcesContent":["\nconst Service = require('egg').Service;\n\nclass AccountService extends Service {\n\n\n    /*\n  * 根据邮箱，查找用户\n  * @param {String} email 邮箱地址\n  * @return {Promise[user]} 承载用户的 Promise 对象\n  */\n    async getUserByMail(email) {\n        const ret = await this.app.mysql.get('users', { email: email });\n        return ret;\n    }\n\n    async newAndSave(email, password) {\n\n\n        const ret = await this.app.mysql.insert('users',\n            { email: email, password: password }\n\n        );\n\n        return ret;\n    }\n\n    async updateUser(data) {\n\n        console.log(data);\n\n        const ret = await this.app.mysql.update('users', data, { where: { id: data.id }});\n\n\n        return ret;\n    }\n\n\n}\n\nmodule.exports = AccountService;\n"]}