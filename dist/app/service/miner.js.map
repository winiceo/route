{"version":3,"sources":["../../../app/service/miner.js"],"names":["Service","require","MinerService","user_id","app","mysql","select","where","assets","miner_id","offset","limit","orders","module","exports"],"mappings":";;;;;;;;;;;;AACA,IAAMA,UAAUC,QAAQ,KAAR,EAAeD,OAA/B;;IAEME,Y;;;;;;;;;;;;gGAIgBC,O;;;;;;;uCAEO,KAAKC,GAAL,CAASC,KAAT,CAAeC,MAAf,CAAsB,OAAtB,EAA+B;AAChDC,2CAAO,EAAEJ,SAASA,OAAX;AADyC,iCAA/B,C;;;AAAfK,sC;iEAGCA,M;;;;;;;;;;;;;;;;;;;;oBAIgBC,Q,SAAAA,Q;yCAAUC,M;oBAAAA,M,gCAAS,C;wCAAGC,K;oBAAAA,K,+BAAQ,E;;;;;;;uCAEhC,KAAKP,GAAL,CAASC,KAAT,CAAeC,MAAf,CAAsB,cAAtB,EAAsC;AACvDC,2CAAO,EAAEE,UAAUA,QAAZ,EADgD;AAEvDG,4CAAQ,CAAC,CAAC,UAAD,EAAa,MAAb,CAAD,CAF+C,EAEvB;AAChCD,2CAAOA,KAHgD,EAGzC;AACdD,4CAAQA,MAJ+C,CAIxC;AAJwC,iCAAtC,C;;;AAAfF,sC;kEAMCA,M;;;;;;;;;;;;;;;;;;;EArBYR,O;;AA4B3Ba,OAAOC,OAAP,GAAiBZ,YAAjB","file":"miner.js","sourcesContent":["\nconst Service = require('egg').Service;\n\nclass MinerService extends Service {\n\n\n\n    async getByUserId(user_id) {\n\n        const assets = await this.app.mysql.select('miner', {\n            where: { user_id: user_id }\n        });\n        return assets;\n    }\n\n\n    async getSharesByMinerId({ miner_id, offset = 0, limit = 20 }) {\n\n        const assets = await this.app.mysql.select('miner_shares', {\n            where: { miner_id: miner_id },\n            orders: [['datetime', 'desc']], // 排序方式\n            limit: limit, // 返回数据量\n            offset: offset // 数据偏移量\n        });\n        return assets;\n    }\n\n\n\n}\n\nmodule.exports = MinerService;\n"]}