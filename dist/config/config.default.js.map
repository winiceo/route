{"version":3,"sources":["../../config/config.default.js"],"names":["path","require","module","exports","config","name","debug","keys","appInfo","host","session_secret","middleware","authUser","allow_sign_up","site_static_host","process","env","EGG_SITE_STATIC_HOST","mini_assets","EGG_MINI_ASSETS","upload","join","__dirname","view","ejs","auth_cookie_name","admins","siteFile","static","prefix","maxAge","dir","baseDir","redis","EGG_REDIS_HOST","EGG_REDIS_PORT","EGG_REDIS_PASSWORD","EGG_REDIS_DB","mongoose","EGG_MONGODB_URL","passportGithub","EGG_PASSPORT_GITHUB_CLIENT_ID","EGG_PASSPORT_GITHUB_CLIENT_SECRET","passportLocal","mail_opts","mail_grid_opts","auth","api_user","api_key","alinode","EGG_ALINODE_APPID","EGG_ALINODE_SECRET","topic","list_topic_count","create_user_per_ip","search","security","csrf","enable","mysql","jwt","secret","option","expiresIn"],"mappings":"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","file":"config.default.js","sourcesContent":["\nconst path = require('path');\n\nmodule.exports = appInfo => {\n    const config = {};\n\n    config.name = 'BeeRoute Api';\n    // debug 为 true 时，用于本地调试\n    config.debug = false;\n\n    // use for cookie sign key, should change to your own and keep security\n    config.keys = appInfo.name + '_1519887194138_3450';\n\n    config.host = 'http://cnodejs.org';\n\n    config.session_secret = 'beelet_secret'; // 务必修改\n\n    // add your config here\n    config.middleware = ['locals', 'authUser', 'blockUser', 'errorPage'];\n\n    config.authUser = {\n        'enable': true,\n        'match': '/'\n    };\n\n    // 是否允许直接注册（否则只能走 github 的方式）\n    config.allow_sign_up = true;\n\n    // cdn host，如 http://cnodejs.qiniudn.com\n    config.site_static_host = process.env.EGG_SITE_STATIC_HOST || ''; // 静态文件存储域名\n\n    config.mini_assets = process.env.EGG_MINI_ASSETS || false;\n\n\n    // 文件上传配置\n    // 注：如果填写 qn_access，则会上传到 7牛，以下配置无效\n    config.upload = {\n        'path': path.join(__dirname, '../app/public/upload/'),\n        'url': '/public/upload/'\n    };\n\n    config.view = {\n        'defaultViewEngine': 'ejs',\n        'mapping': {\n            '.html': 'ejs'\n        }\n    };\n\n    config.ejs = {\n        'layout': 'layout.html'\n    };\n\n\n\n    config.auth_cookie_name = 'bee_route';\n    config.admins = {\n        'ADMIN_USER': true\n    };\n\n    config.siteFile = {\n        '/favicon.ico': '/public/images/cnode_icon_32.png'\n    };\n\n    config.static = {\n        prefix: '/',\n        maxAge: 31536000,\n        dir: [path.join(appInfo.baseDir, 'public/')]\n    };\n\n\n    // database\n    config.redis = {\n        'client': {\n            'host': process.env.EGG_REDIS_HOST || '127.0.0.1',\n            'port': process.env.EGG_REDIS_PORT || 6379,\n            'password': process.env.EGG_REDIS_PASSWORD || '',\n            'db': process.env.EGG_REDIS_DB || '0'\n        }\n    };\n\n    /**\n     * @see http://mongodb.github.io/node-mongodb-native/2.2/api/Db.html#createCollection\n     */\n    config.mongoose = {\n        'url': process.env.EGG_MONGODB_URL || 'mongodb://127.0.0.1:27017/egg_cnode',\n        'options': {\n            'server': { 'poolSize': 20 }\n        }\n    };\n\n    // passport\n    config.passportGithub = {\n        'key': process.env.EGG_PASSPORT_GITHUB_CLIENT_ID || 'test',\n        'secret': process.env.EGG_PASSPORT_GITHUB_CLIENT_SECRET || 'test'\n    };\n\n    config.passportLocal = {\n        'usernameField': 'name',\n        'passwordField': 'pass'\n    };\n\n    // 邮箱配置\n    config.mail_opts = {\n        'host': 'smtp.sendgrid.net',\n        'port': 25,\n        'auth': {\n            'user': 'koinotice@gmail.com',\n            'pass': 'T861pW7vp_qp7w.izWe4Eh4Hqoa4Y9fVG'\n        },\n        'ignoreTLS': true\n    };\n    config.mail_grid_opts = {\n        auth: {\n            api_user: 'apikey',\n            api_key: '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'\n        }\n    };\n\n    config.alinode = {\n        // 从 `Node.js 性能平台` 获取对应的接入参数\n        'appid': process.env.EGG_ALINODE_APPID || '13173',\n        'secret': process.env.EGG_ALINODE_SECRET || '83cd543a57e7639aa623784a02a37acd5fb00a9f'\n    };\n\n    config.topic = {\n        'perDayPerUserLimitCount': 10\n    };\n\n    config.list_topic_count = 20;\n\n    // 每个 IP 每天可创建用户数\n    config.create_user_per_ip = 1000;\n\n    config.search = 'google'; // 'google', 'baidu', 'local'\n\n    config.security = {\n        csrf: {\n            enable: false\n        }\n    };\n    // config/config.${env}.js\n    config.mysql = {\n        // 单数据库信息配置\n        'client': {\n            // host\n            'host': 'localhost',\n            // 端口号\n            'port': '3306',\n            // 用户名\n            'user': 'root',\n            // 密码\n            'password': '',\n            // 数据库名\n            'database': 'route'\n        },\n        // 是否加载到 app 上，默认开启\n        'app': true,\n        // 是否加载到 agent 上，默认关闭\n        'agent': false\n    };\n\n\n\n    config.jwt = {\n        secret: 'DwNgD85L2Rc9',\n        option: {\n            expiresIn: '360d'\n        }\n    };\n\n    return config;\n};\n"]}