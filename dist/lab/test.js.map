{"version":3,"sources":["../../lab/test.js"],"names":["_","require","fetch","download","con","then","res","json","data","pdata","forEach","m","content","n","picid","push","image","url","dest","filename","console","log","catch","err"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AACA,IAAIC,QAAQD,QAAQ,YAAR,CAAZ;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA,IAAME,WAAWF,QAAQ,kBAAR,CAAjB;;AAEA;AACA,IAAIG,MAAM,EAAV;AACAF,MAAM,uEAAN,EACKG,IADL,CACU;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,CADV,EAEKF,IAFL,CAEU,gBAAQ;;AAEV,QAAIG,OAAOD,KAAKC,IAAL,CAAUC,KAAV,CAAgBF,IAA3B;AACAP,MAAEQ,IAAF,EAAQE,OAAR,CAAgB,UAASC,CAAT,EAAY;AACxBX,UAAEW,EAAEC,OAAJ,EAAaF,OAAb,CAAqB,UAASG,CAAT,EAAY;AAC7B,gBAAIA,EAAEC,KAAN,EAAa;AACTV,oBAAIW,IAAJ,CAASF,EAAEC,KAAX;;AAEAX,yBAASa,KAAT,CAAe;AACXC,yBAAK,yBAAyBJ,EAAEC,KADrB;AAEXI,0BAAM,QAFK,CAEqB;AAFrB,iBAAf,EAGIb,IAHJ,CAGS,gBAAyB;AAAA,wBAAtBc,QAAsB,QAAtBA,QAAsB;AAAA,wBAAZH,KAAY,QAAZA,KAAY;;AAC9BI,4BAAQC,GAAR,CAAY,eAAZ,EAA6BF,QAA7B;AACH,iBALD,EAKGG,KALH,CAKS,UAACC,GAAD,EAAS;AACd,0BAAMA,GAAN;AACH,iBAPD;AAQH;AAGJ,SAfD;AAgBH,KAjBD;AAmBH,CAxBL","file":"test.js","sourcesContent":["// let AipSpeech = require(\"baidu-aip-sdk\").speech;\n// let fs = require('fs');\n//\n// // 务必替换百度云控制台中新建百度语音应用的 Api Key 和 Secret Key\n// let client = new AipSpeech(11080468, '7D7nGR27gdpwhsroGohql617', '4372759c23ebae5b1797eeefba18f655');\n//\n//\n//\n// client.text2audio('    深圳市必盈信息技术有限公司成立于2017年1月，是一家区块链技术创新的公司，企业在上海、深圳、香港等地设有办公室，现有团队成员50余人，是区块链技术应用和数字资产管理公司，专注于区块链解决方案、加密数字资产管理、交易与风控技术方案；\\n' +\n//     '\\n' +\n//     '    公司参与运营路印协议的推广并获得良好社区口碑。旗下智子基金，拥有管理经验丰富的技术人才，致力于打造安全、公平、公开的数字资产管理及投融资。').then(function(result) {\n//     if (result.data) {\n//         fs.writeFileSync('tts.mpVoice.mp3', result.data);\n//     } else {\n//         // 服务发生错误\n//         console.log(result)\n//     }\n// }, function(e) {\n//     // 发生网络错误\n//     console.log(e)\n// });\n\nlet _ = require('lodash');\nlet fetch = require('node-fetch');\n// or\n// const fetch = require('node-fetch');\n\n// if you are using your own Promise library, set it through fetch.Promise. Eg.\n\n// import Bluebird from 'bluebird';\n// fetch.Promise = Bluebird;\n\n// plain text or html\n\n\nconst download = require('image-downloader');\n\n// json\nlet con = [];\nfetch('https://res.maka.im/user/5367838/event/WYMOS1D1/WYMOS1D1_v41.json?v=2')\n    .then(res => res.json())\n    .then(json => {\n\n        let data = json.data.pdata.json;\n        _(data).forEach(function(m) {\n            _(m.content).forEach(function(n) {\n                if (n.picid) {\n                    con.push(n.picid);\n\n                    download.image({\n                        url: 'http://img1.maka.im/' + n.picid,\n                        dest: 'images'                  // Save to /path/to/dest/image.jpg\n                    }) .then(({ filename, image }) => {\n                        console.log('File saved to', filename);\n                    }).catch((err) => {\n                        throw err;\n                    });\n                }\n\n\n            });\n        });\n\n    });\n\n\n\n"]}